machine:
  xcode:
    version: 8.2

dependencies:
  pre:
    - gem install xcpretty --no-rdoc --no-ri --no-document --quiet
    - Scripts/install_swiftlint.sh
    - curl -sS https://cocoapods-specs.circleci.com/fetch-cocoapods-repo-from-s3.sh | bash

test:
  override:
    - rake lint:code
    - rake xcode:test
    - rake spm:test
  post:
    - rake lint:pod
